<script type="module" crossorigin>(function polyfill() {
  const relList = document.createElement("link").relList;
  if (relList && relList.supports && relList.supports("modulepreload")) {
    return;
  }
  for (const link of document.querySelectorAll('link[rel="modulepreload"]')) {
    processPreload(link);
  }
  new MutationObserver((mutations) => {
    for (const mutation of mutations) {
      if (mutation.type !== "childList") {
        continue;
      }
      for (const node of mutation.addedNodes) {
        if (node.tagName === "LINK" && node.rel === "modulepreload")
          processPreload(node);
      }
    }
  }).observe(document, { childList: true, subtree: true });
  function getFetchOpts(link) {
    const fetchOpts = {};
    if (link.integrity) fetchOpts.integrity = link.integrity;
    if (link.referrerPolicy) fetchOpts.referrerPolicy = link.referrerPolicy;
    if (link.crossOrigin === "use-credentials")
      fetchOpts.credentials = "include";
    else if (link.crossOrigin === "anonymous") fetchOpts.credentials = "omit";
    else fetchOpts.credentials = "same-origin";
    return fetchOpts;
  }
  function processPreload(link) {
    if (link.ep)
      return;
    link.ep = true;
    const fetchOpts = getFetchOpts(link);
    fetch(link.href, fetchOpts);
  }
})();
const CONSTANTS = {
  UDID: "udid",
  UFID: "ufid",
  PAYLOAD: "payload",
  UTID: "utid",
  CHANNEL: "channel",
  TRACK_INFO: "track_info",
  UEID: "ueid",
  UMID: "umid",
  USER_PROFILE: "_uc_session",
  USER_MOBILE_KEY: "sc_mid",
  UWID: "uwid"
};
const MESSAGE_EVENT_LIST = {
  GET_USER_PROFILE_FROM_IFRAME: "getUserProfileFromIframe",
  SET_USER_PROFILE_TO_IFRAME: "setUserProfileToIframe",
  SEND_USER_PROFILE_TO_PARENT: "sendUserProfileToParent",
  GET_UDID_FROM_IFRAME: "getUDIDFromIframe",
  SEND_UDID_TO_PARENT: "sendUDIDToParent"
};
function getRandomUUID() {
  var _a;
  if (self && (self == null ? void 0 : self.crypto) && ((_a = self == null ? void 0 : self.crypto) == null ? void 0 : _a.randomUUID)) ;
  else {
    self.crypto.randomUUID = function() {
      const crypto = self.crypto || self.msCrypto;
      if (!crypto || !crypto.getRandomValues) {
        throw new Error(
          "crypto.getRandomValues() not supported by this browser"
        );
      }
      const bytes = new Uint8Array(16);
      crypto.getRandomValues(bytes);
      bytes[6] = bytes[6] & 15 | 64;
      bytes[8] = bytes[8] & 63 | 128;
      const byteToHex = [];
      for (let i = 0; i < 256; ++i) {
        byteToHex.push((i + 256).toString(16).substr(1));
      }
      const uuid = (byteToHex[bytes[0]] + byteToHex[bytes[1]] + byteToHex[bytes[2]] + byteToHex[bytes[3]] + "-" + byteToHex[bytes[4]] + byteToHex[bytes[5]] + "-" + byteToHex[bytes[6]] + byteToHex[bytes[7]] + "-" + byteToHex[bytes[8]] + byteToHex[bytes[9]] + "-" + byteToHex[bytes[10]] + byteToHex[bytes[11]] + byteToHex[bytes[12]] + byteToHex[bytes[13]] + byteToHex[bytes[14]] + byteToHex[bytes[15]]).toLowerCase();
      return uuid;
    };
  }
  return self.crypto.randomUUID();
}
window.addEventListener("message", function(event) {
  var _a, _b;
  if (event.origin !== window.location.origin) ;
  switch ((_a = event == null ? void 0 : event.data) == null ? void 0 : _a.name) {
    case MESSAGE_EVENT_LIST.GET_USER_PROFILE_FROM_IFRAME: {
      break;
    }
    case MESSAGE_EVENT_LIST.SEND_USER_PROFILE_TO_PARENT: {
      break;
    }
    case MESSAGE_EVENT_LIST.SET_USER_PROFILE_TO_IFRAME: {
      setData((_b = event == null ? void 0 : event.data) == null ? void 0 : _b.data);
      break;
    }
    case MESSAGE_EVENT_LIST.GET_UDID_FROM_IFRAME: {
      let UDID = getCookie(CONSTANTS.UDID);
      if (!UDID) {
        UDID = getRandomUUID();
        setCookie(CONSTANTS.UDID, UDID);
      }
      postMessageMethod(
        MESSAGE_EVENT_LIST.SEND_UDID_TO_PARENT,
        UDID
      );
      break;
    }
  }
});
const domain = "sr-promise-prod.s3.ap-south-1.amazonaws.com";
let setData = (data) => {
  setCookie(CONSTANTS.USER_PROFILE, JSON.stringify(data));
};
let postMessageMethod = (name, data) => {
  var _a;
  (_a = self == null ? void 0 : self.parent) == null ? void 0 : _a.postMessage(
    {
      name,
      data
    },
    "*"
  );
};
function setCookie(name, value, days = 30) {
  let expires = "";
  if (days) {
    const date = /* @__PURE__ */ new Date();
    date.setTime(date.getTime() + days * 24 * 60 * 60 * 1e3);
    expires = "; expires=" + date.toUTCString();
  }
  document.cookie = name + "=" + (value || "") + expires + "; path=/; SameSite=None; Secure;domain=" + domain;
}
function getCookie(name) {
  const cookies = document.cookie.split(";");
  for (let cookie of cookies) {
    const [cookieName, cookieValue] = cookie.split("=").map((c) => c.trim());
    if (cookieName === name) {
      return decodeURIComponent(cookieValue);
    }
  }
}
</script>
Universal Cookies
<!-- <button onclick="sendData()">Send Data</button> -->
